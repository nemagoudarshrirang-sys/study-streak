<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Profile</title>
<style>
body{margin:0;min-height:100vh;background:radial-gradient(circle at top, #0f172a, #020617);color:#e5e7eb;font-family:Segoe UI,system-ui;line-height:1.6}
.page{max-width:520px;margin:0 auto;padding:20px 16px}
.top{height:60px;display:flex;align-items:center;gap:12px;border-bottom:1px solid rgba(255,255,255,0.08);background:rgba(17,17,17,0.95);padding:0 16px;backdrop-filter:blur(12px)}
.back{background:transparent;border:none;color:#e5e7eb;font-size:22px;cursor:pointer;opacity:0.85;transition:opacity 0.2s ease}
.back:hover{opacity:1}
.card{background:rgba(26,26,26,0.85);border-radius:24px;padding:24px;margin-top:16px;backdrop-filter:blur(16px);box-shadow:0 0 0 1px rgba(255,255,255,0.06),0 20px 40px rgba(0,0,0,0.4)}
.avatar{width:104px;height:104px;border-radius:50%;background:rgba(18,18,18,0.8);display:flex;align-items:center;justify-content:center;font-size:36px;font-weight:800;margin:0 auto 16px;position:relative;backdrop-filter:blur(8px);box-shadow:0 4px 16px rgba(0,0,0,0.3)}
.stats{display:flex;gap:16px;margin:16px 0;justify-content:center}
.stats .item{background:rgba(18,18,18,0.8);border-radius:16px;padding:14px 16px;backdrop-filter:blur(8px);text-align:center;min-width:80px}
.username{font-weight:700;font-size:20px;text-align:center;margin-bottom:8px;letter-spacing:-0.3px}
.bio{font-size:14px;color:#cbd5e1;margin-top:8px;white-space:pre-wrap;line-height:1.6;text-align:center}
.btns{display:flex;gap:10px;margin-top:16px}
.btn{background:rgba(51,65,85,0.8);color:#e5e7eb;border:none;border-radius:14px;padding:12px 16px;cursor:pointer;font-size:14px;font-weight:500;transition:all 0.2s ease;flex:1}
.btn:hover{background:rgba(51,65,85,1);transform:translateY(-1px)}
.edit{background:#22c55e;color:#022c22;font-weight:700}
.edit:hover{box-shadow:0 4px 16px rgba(34,197,94,0.3)}
.field{background:rgba(18,18,18,0.8);border-radius:16px;padding:14px;margin-top:12px;backdrop-filter:blur(8px)}
.field input, .field textarea{width:100%;background:rgba(15,15,15,0.8);border:none;border-radius:14px;color:#e5e7eb;padding:12px 14px;font-size:14px;transition:background 0.2s ease}
.field input:focus, .field textarea:focus{outline:none;background:rgba(15,15,15,1)}
.muted{font-size:12px;color:#94a3b8;margin-top:8px;line-height:1.5}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;height:64px;background:rgba(17,17,17,0.95);border-top:1px solid rgba(255,255,255,0.08);display:flex;align-items:center;justify-content:space-around;z-index:50;backdrop-filter:blur(12px)}
.bn-btn{background:transparent;border:none;color:#e5e7eb;font-size:20px;cursor:pointer;opacity:0.85;transition:opacity 0.2s ease, transform 0.15s ease;padding:8px}
.bn-btn:hover{opacity:1;transform:scale(1.1)}
.bn-btn.active{color:#22c55e;opacity:1}
</style>
</head>
<body>
  <div class="top">
    <button class="back" onclick="location.href='group-inbox.html'">‚Üê</button>
    <div style="font-weight:700">Profile</div>
  </div>
  <div class="page">
    <div class="card">
      <div class="avatar" id="avatar"></div>
      <div class="username" id="username"></div>
      <div class="stats">
        <div class="item"><div style="font-weight:700" id="stat1">0</div><div style="font-size:12px;color:#94a3b8">Sessions</div></div>
        <div class="item"><div style="font-weight:700" id="stat2">0</div><div style="font-size:12px;color:#94a3b8">Streak</div></div>
        <div class="item"><div style="font-weight:700" id="stat3">0</div><div style="font-size:12px;color:#94a3b8">Minutes</div></div>
      </div>
      <div class="bio" id="bio"></div>
      <div class="btns">
        <button class="btn edit" id="editBtn">Edit profile</button>
        <button class="btn" onclick="location.href='settings.html'">Settings</button>
      </div>
    </div>
    <div class="card">
      <div style="font-weight:700;margin-bottom:6px">Edit</div>
      <div class="field">
        <div class="muted">Username</div>
        <input id="nameInput" placeholder="Enter a name" />
      </div>
      <div class="field">
        <div class="muted">Bio</div>
        <textarea id="bioInput" rows="3" placeholder="Write something calm"></textarea>
      </div>
      <button class="btn edit" id="saveBtn">Save</button>
      <div id="status" class="muted"></div>
    </div>
  </div>
  <div class="bottom-nav">
    <button class="bn-btn" onclick="location.href='index.html'">üè†</button>
    <button class="bn-btn" onclick="location.href='group-inbox.html'">üí¨</button>
    <button class="bn-btn active" onclick="location.href='profile.html'">üôÇ</button>
    <button class="bn-btn" onclick="location.href='settings.html'">‚öôÔ∏è</button>
  </div>
<script>
function getUserName(){
  let n = localStorage.getItem("userName");
  if(!n){ n = prompt("Enter your name") || "Anonymous"; localStorage.setItem("userName", n); }
  return n;
}
function init(){
  const name = getUserName();
  const bio = localStorage.getItem("userBio")||"";
  const streak = Number(localStorage.getItem("studyStreak")||0);
  const minutes = Number(localStorage.getItem("totalMinutes")||0);
  const sessions = Number(localStorage.getItem("todaySessions")||0);
  document.getElementById("username").textContent = name;
  document.getElementById("bio").textContent = bio || "No bio yet.";
  document.getElementById("avatar").textContent = (name[0]||"?").toUpperCase();
  document.getElementById("stat1").textContent = sessions;
  document.getElementById("stat2").textContent = streak;
  document.getElementById("stat3").textContent = minutes;
  document.getElementById("nameInput").value = name;
  document.getElementById("bioInput").value = bio;
}
document.getElementById("editBtn").onclick = ()=>{
  document.getElementById("nameInput").focus();
};
document.getElementById("saveBtn").onclick = ()=>{
  const status = document.getElementById("status");
  const n = document.getElementById("nameInput").value.trim();
  const b = document.getElementById("bioInput").value.trim();
  if(n){ localStorage.setItem("userName", n); }
  localStorage.setItem("userBio", b);
  status.textContent = "Saved"; setTimeout(()=>status.textContent="",1200);
  init();
};
init();
</script>
</body>
</html>
